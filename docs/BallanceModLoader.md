# BallanceModLoader

Ballance Mod Loader（BML）的设置。游戏内 BML 以内建 Mod 的形式出现。

本章节以原 BML（或称**老 BML**）的设定为准。

## 命令

- `/bml` - 显示 BML 的相关信息。
- `/cheat [true|false]` - 开启或关闭 Cheat Mode（作弊模式）。若不指定开关状态则会根据当前状态自动切换。
- `/clear` - 清除当前显示的所有历史消息。
- `/help` - 显示帮助。
- `/kill` - 触发掉球自杀。
- `/score add|sub|set <分数>` - 设置玩家的额外得分。**需要 Cheat Mode。**
- `/sector <小节>` - 快速跳转到对应小节。**需要 Cheat Mode。**
- `/spawn` - 设置玩家球当前所在的位置为出生点，方便竞速练习等。**需要 Cheat Mode。**
- `/speed <倍速>` - 设置玩家球当前所在的位置为出生点，方便竞速练习等。**需要 Cheat Mode。**
- `/travel` - 进入自由视角模式。
  * **注意**：BML 自带的自由视角功能很不方便，玩家应当使用其改进替代品 [AdvancedTravelCam](./AdvancedTravelCam.md)。
- `/watermark` - 切换当前 BML 水印显隐。**老 BML 专属。**
- `/win` - 直接触发通关效果。**需要 Cheat Mode。**

## 操作方式

**默认状态下：**

- `R` - 触发掉球自杀。

**Cheat Mode 下：**

- 基础 Cheat Mode 功能
  * `F1` - 使玩家球上升。
  * `F2` - 使玩家球下降。
  * `I` - 切换玩家球为纸球。
  * `O` - 切换玩家球为木球。
  * `P` - 切换玩家球为石球。
  * `退格` - 快速重置当前小节（同时会将玩家球重置至当前出生点）。
  * `L` - 增加一个额外生命。
  * `Ctrl` - （按住时）启用 3 倍球速。
  * `F` - （按住时）跳过本帧渲染，快进游戏。
- 其他调试功能：按住以下按键时可以在玩家球正上方生成调试道具。松开按键前调试道具不会自动物理化，此时保持按下按键状态可以调整道具球位置。使用正常移动按键移动调试道具，`右Shift` 上升，`右Ctrl` 下降。
  * `J` - 生成道具纸球。
  * `K` - 生成道具木球。
  * `N` - 生成道具石球。
  * `M` - 生成箱子。

**启用自定义摄像机设置时：**

- `D` - 重置摄像机状态。
- `W` - 使摄像机旋转 45 度。
- `Q` `E` - 使摄像机向**左**或**右**（非 90 度）旋转。
- `A` `Z` `S` `X` - 使摄像机向**上、下、前、后**移动。

## 配置选项

- Misc - 杂项选项。
  * SkipLoadingAnim - 跳过游戏开始时的加载界面（Logo 动画等）。
  * FullScreen - 切换全屏模式的快捷键。
  * UnlockResolution - 解锁窗口比例限制。默认 Ballance 仅允许 4:3 的分辨率，启用本选项后可以使用显示器支持的 16:9 等分辨率。
  * Overclock - 移除球出生或重生时的动画效果，使球无延迟瞬间出生。
  * ShowFPS - 在游戏窗口左上角叠加显示当前 FPS。
  * ShowSRTimer - 在游戏窗口左下角叠加显示 SR Timer（竞速计时器）。
  * FixLifeBallFreeze - 修复加命时游戏卡死问题（Windows 10 之后常见的兼容性问题）。
  * CustomMapNumber - 自制图关卡号。BML 加载自制图的原理是将自制图随机填入一原版关卡的位置后加载，本选项可以自定义加载入的关卡号（会影响天空背景以及通关后的奖励分）。
    + 本选项值必须位于 1 和 13 之间。
    + 使用 1 会导致自制图内出现帮助提示，12 导致光照变暗并配有闪电效果，13 则会导致石球开局。
    + 填入 0 时游戏采取默认策略，将自制图随机填入第 2 至 11 关中的一关。
  * MessageDuration - BML 提示消息的最大显示时长，以秒为单位。超时后会自动渐变隐藏。
- Debug - 调试功能、按键等。
  * EnableSuicideKey - 是否启用掉球自杀快捷键。由于本快捷键无需 Cheat Mode 即可使用，关闭后可以防止意外触发。
  * SpeedNotification - 是否在启用倍速球时显示变速提示。默认状态下玩家于 Cheat Mode 下按下 `Ctrl` 即可变速，但连续变速会导致提示消息刷屏。
- Auxiliaries - 生成调试用机关所用的按键。
- Camera - 自定义摄像机时所用的按键等。
  * Enable - 是否允许玩家自定义摄像机。
